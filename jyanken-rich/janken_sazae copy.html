<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/Modaal/0.4.4/css/modaal.min.css">
<!-- CDN modal-video CSS --> 
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/modal-video@2.4.8/css/modal-video.min.css" /> 
<!-- jQuery -->
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script> 
<!-- CDN modal-video jQuery --> 
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/modal-video@2.4.8/js/jquery-modal-video.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>Jyanken-Rich</title>
</head>
<body>

<header>
  <div class="header">
    <div class="header-logo">
      <a href="#"><img class="header-logo-img" src="./img/Jyanken-Rich-Logo.png" alt=""></a>
    </div>
    <div class="header-nav">
      <ul class="nav-menu-list">
        <li class="nav-menu-item">
          <a class="nav-menu-label" href="#">Home</a>
        </li>
        <li class="nav-menu-item">
          <a class="nav-menu-label" href="#">Strength</a>
        </li>
        <li class="nav-menu-item">
          <a class="nav-menu-label" href="#">Service</a>
        </li>
        <li class="nav-menu-item">
          <a class="nav-menu-label" href="#">Case</a>
        </li>
        <li class="nav-menu-item">
          <a class="nav-menu-label" href="#">Company</a>
        </li> 
        <li class="nav-menu-item">
          <a class="nav-menu-label" href="#">Recruit</a>
        </li>
      </ul>

    </div>
  </div>
</header>

<main>
  <section class="main-visual">
    <div class="main-visual">
      <img src="./img/jyanken-rich-mainvisual.png" alt="">
      <h1></h1>
    </div>
    <div class="main-visual-text">
      <h2>RPS is for WINNING</h2>
      <h4>- ã™ã¹ã¦ã®å‡ºã—æ‰‹ã¯<br>å‹åˆ©ã®ãŸã‚ã« -</h4>
    </div>
  </section>

  <section class="Strength">
    <h1>Strength</h1>
    <h4>ç§ãŸã¡ã®å¼·ã¿</h4>
    <div class="strength-01">
      <div class="strength-01">
        <img src="./img/strength-01.png" alt="">
        <div class="strength-01-text">
           <h4>æœ¬æ°—ã§ã˜ã‚ƒã‚“ã‘ã‚“ã«å‘ãåˆã†</h4>
           <p>ãŠå®¢æ§˜ã®è¦æœ›ã«æ²¿ã£ã¦å‡ºã—æ‰‹ã‚’ä¸€ç·’ã«è€ƒãˆã¾ã™</p>
           <p>ã˜ã‚ƒã‚“ã‘ã‚“ã«å¯¾ã™ã‚‹æ€ã„ã¯äººãã‚Œãã‚Œã§ã™</p>
           <p>æ™‚ä»£ã®å¤‰åŒ–ã‚„ãƒ‹ãƒ¼ã‚ºã«é©ã—ãŸå‡ºã—æ‰‹ã‚’ãŠå±Šã‘ã—ã¾ã™</p>
        </div>
      </div>
    </div>
    <div class="strength-02">
      <div class="strength-02">
        <div class="strength-01-text">
          <h4>å…¨ãæ–°ãŸã‚‰ã—ã„å‡ºã—æ‰‹ã®æ€è€ƒ</h4>
          <p>å‡ºã—æ‰‹ã¯æ€è€ƒãŒãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚ºåŒ–ã•ã‚ŒãŸã‚‚ã®ã§ã™</p>
          <p>ã‚ã®æ™‚ã®ä¸€æ‰‹ã«å¾Œæ‚”ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ</p>
          <p>ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸä¸€æ‰‹ã§æ‚”ã®ãªã„ä¸€æˆ¦ã«</p>
       </div>
        <img src="./img/strength-02.png" alt="">
      </div>
    </div>
  </section>

  <section class="Service">
    <h1>Service</h1>
    <h4>äº‹æ¥­ç´¹ä»‹</h4>
    <h5>ã˜ã‚ƒã‚“ã‘ã‚“ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹ã‹ã‚‰ã‚²ãƒ¼ãƒ äº‹æ¥­ã¾ã§</h5>
    <h5>ã“ã‚Œã‹ã‚‰ã®æ™‚ä»£ã®ã˜ã‚ƒã‚“ã‘ã‚“ã«</h5>
    <div class="service-box">
      <div class="service-box-item">
        <h5>ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°</h5>
        <img src="./img/service-01.png" alt="">
        <p>çµ¶å¯¾ã«è² ã‘ã‚‰ã‚Œãªã„ä¸€æˆ¦ã¾ã§ã€å¯¾æˆ¦ç›¸æ‰‹ã®å‚¾å‘åˆ†æã‹ã‚‰å‡ºã—æ‰‹ã®è¨ˆç”»ã¾ã§ã¨ãƒ¼ãŸã¤ã‚µãƒãƒ¼ãƒˆã„ãŸã—ã¾ã™ã€‚</p>
        <a href="janken_sazae.html" class="service-box-item-btn">è©³ã—ãè¦‹ã‚‹</a>
      </div>
      <div class="service-box-item">
        <h5>ã‚²ãƒ¼ãƒ äº‹æ¥­</h5>
        <img src="./img/service-02.png" alt="">
        <p>Webã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚¢ãƒ—ãƒªã«é–¢ã‚ã‚‰ãšå¹…åºƒã„ãƒ‡ãƒã‚¤ã‚¹ã‚„ç’°å¢ƒã§ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ ã‚’é–‹ç™ºã—æä¾›ã„ãŸã—ã¾ã™ã€‚</p>
        <a href="" class="service-box-item-btn">è©³ã—ãè¦‹ã‚‹</a>
      </div>
      <div class="service-box-item">
        <h5>AIäº‹æ¥­</h5>
        <img src="./img/service-03.png" alt="">
        <p>é•·å¹´åŸ¹ã£ã¦ããŸãƒ‡ãƒ¼ã‚¿ã§ç‹¬è‡ªã«é–‹ç™ºã—ãŸAIã‹ã‚‰ã€ãã®å ´é¢ã«é©ã—ãŸå‡ºã—æ‰‹ã‚’æä¾›ã„ãŸã—ã¾ã™ã€‚</p>
        <a href="" class="service-box-item-btn">è©³ã—ãè¦‹ã‚‹</a>
      </div>
      <div class="service-box-item">
        <h5>ãƒ‡ãƒ¼ã‚¿åˆ†æ</h5>
        <img src="./img/service-04.png" alt="">
        <p>ãŠå®¢æ§˜è‡ªèº«ã®ã˜ã‚ƒã‚“ã‘ã‚“ãƒ‡ãƒ¼ã‚¿åˆ†æã‹ã‚‰ã˜ã‚ƒã‚“ã‘ã‚“å¸‚å ´ã‚’åˆ†æã—ãŠå®¢æ§˜ã«åˆã‚ã›ãŸãƒ‡ãƒ¼ã‚¿ã‚’æä¾›ã—ã¾ã™ã€‚</p>
        <a href="" class="service-box-item-btn">è©³ã—ãè¦‹ã‚‹</a>
      </div>
    </div>
  </section>

  <section class="Case">
    <h1>Case</h1>
    <h4>äº‹ä¾‹ç´¹ä»‹</h4>
  </section>
</main>

<!-- 
  <ul>
    <li id="gu_btn">ã‚°ãƒ¼</li>
    <li id="cho_btn">ãƒãƒ§ã‚­</li>
    <li id="par_btn">ãƒ‘ãƒ¼</li>
  </ul>
  <div>ã‚µã‚¶ã‚¨ã•ã‚“ã®å‡ºã—ãŸæ‰‹ã¯ï¼Ÿã€Œ<span id="pc_hands">ãªã«ï¼Ÿ</span>ã€</div>
  <div id="sazae_img"><img alt="" id="target"></div>
  <div id="judgment"></div>
  <div id="rate"></div>
  <div class="chart_area">
    <canvas class="chart" id="bar_plt_dashite"></canvas>
    <canvas class="chart" id="bar_plt_result"></canvas>
  </div> -->
  <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º -->
  <!-- <div id="easyModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Great job ğŸ‰</h1>
        <span class="modalClose">Ã—</span>
      </div>
      <div class="modal-body">
        <p>You've just displayed this awesome Modal Window!</p>
        <p>Let's enjoy learning JavaScript â˜ºï¸</p>
        <p><a href="https://www.youtube.com/embed/LhPJcvJLNEA?si=rB-u9Ln1z3SCDAQv" class="video-open">å‹•ç”»ã‚’é–‹ã</a></p>

      </div>
    </div>
  </div> -->

<footer></footer>

<script>
//ã˜ã‚ƒã‚“ã‘ã‚“ç”¨ã®SCRIPTã‚’æ›¸ã„ã¦ãã ã•ã„
// ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
let game_cnt = 0; // è©¦åˆæ•°
let result_ary =[0, 0, 0]; // çµæœé…åˆ—ï¼š[å¼•ãåˆ†ã‘, å‹ã¡, è² ã‘]
let pc_hands_ary = [0, 0, 0]; // ã‚µã‚¶ã‚¨ã•ã‚“ã®å‡ºã—æ‰‹é…åˆ—ï¼š[ã‚°ãƒ¼, ãƒãƒ§ã‚­, ãƒ‘ãƒ¼]
let rate = 0; // å‹ç‡æ ¼ç´ç”¨ã®å¤‰æ•°
// ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å®šç¾©
const modal = document.getElementById('easyModal');
const buttonClose = document.getElementsByClassName('modalClose')[0];
// ãƒãƒ„å°ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚
buttonClose.addEventListener('click', modalClose);
function modalClose() {
  modal.style.display = 'none';
}
// ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä»¥å¤–ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚
addEventListener('click', outsideClose);
function outsideClose(e) {
  if (e.target == modal) {
    modal.style.display = 'none';
  }
}

// ã‚°ãƒ©ãƒ•ã®æç”»ï¼ˆå‡ºã—æ‰‹ï¼‰ï¼ˆåˆæœŸï¼‰
let ctx = document.getElementById("bar_plt_dashite");
let bar_config = {
  // ä½œæˆã—ãŸã„ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ï¼šæ£’ã‚°ãƒ©ãƒ•
  type: 'bar',
  // ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ãƒ‡ãƒ¼ã‚¿
  data: {
    labels: ["ã‚°ãƒ¼", "ãƒãƒ§ã‚­", "ãƒ‘ãƒ¼"],
    datasets: [{
      label: ["ã‚°ãƒ¼", "ãƒãƒ§ã‚­", "ãƒ‘ãƒ¼"],
      data: pc_hands_ary,
      backgroundColor: [ // ãã‚Œãã‚Œã®æ£’ã®è‰²ã‚’è¨­å®š
        '#c8d166',
        '#ff5f57',
        '#a9d9ea',
      ],
    }]
  },
  // è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
  options: {
    legend: {
      display: false,
    },
    title: {
      display: true,
      text: 'å‡ºã—æ‰‹'
    },
    scales: {
      yAxes: [{
        ticks: {
          suggestedMax: 30,
          suggestedMin: 0,
          stepSize: 5,
          callback: function(value, index, values){
            return value + "å›"
          }
        }
      }]
    }
  }
};
let bar_chart = new Chart(ctx, bar_config);

// ã‚°ãƒ©ãƒ•ã®æç”»ï¼ˆçµæœï¼‰ï¼ˆåˆæœŸï¼‰
let ctx_result = document.getElementById("bar_plt_result");
let bar_config_result = {
  // ä½œæˆã—ãŸã„ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ï¼šæ£’ã‚°ãƒ©ãƒ•
  type: 'bar',
  // ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ãƒ‡ãƒ¼ã‚¿
  data: {
    labels: ["å¼•ãåˆ†ã‘", "å‹ã¡", "è² ã‘"],
    datasets: [{
      data: result_ary,
      backgroundColor:[ // ãã‚Œãã‚Œã®æ£’ã®è‰²ã‚’è¨­å®š
        '#e1c62d',
        '#da2b2b',
        '#3b3b3b',
      ],
    }]
  },
  // è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
  options: {
    legend: {
      display: false,
    },
    title: {
      display: true,
      text: 'å¯¾æˆ¦çµæœ'
    },
    scales: {
      yAxes: [{
        ticks: {
          suggestedMax: 30,
          suggestedMin: 0,
          stepSize: 5,
          callback: function(value, index, values){
            return value + "å›"
          }
        }
      }]
    },
    
  }
};
let bar_chart_result = new Chart(ctx_result, bar_config_result);


// ã‚°ãƒ©ãƒ•ã‚¨ãƒªã‚¢ã®æç”»
function draw_chart() {
  // chartãŒå­˜åœ¨ã—ãªã„å ´åˆã¯æç”»
  if(!bar_chart || !bar_chart_result) {
    bar_chart = new Chart(ctx, bar_config); // å‡ºã—æ‰‹ã‚°ãƒ©ãƒ•
    bar_chart_result = new Chart(ctx_result, bar_config_result); // çµæœã‚°ãƒ©ãƒ•
  }
  else{ // ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®æ›´æ–°
    // å‡ºã—æ‰‹ã‚°ãƒ©ãƒ•
    bar_config.data.datasets = bar_config.data.datasets;
    bar_chart.update(); // ã‚°ãƒ©ãƒ•ã®æ›´æ–°

    // çµæœã‚°ãƒ©ãƒ•
    bar_config_result.data.datasets = bar_config_result.data.datasets;
    bar_chart_result.update(); // ã‚°ãƒ©ãƒ•ã®æ›´æ–°
  }
}

// ä¹±æ•°ç”Ÿæˆé–¢æ•° (å¼•æ•°ãªã—ã€æˆ»ã‚Šå€¤ã‚ã‚Š)
function generate_random() {
  const pc_hands_num = Math.ceil(Math.random()*3); // 1 ~ 3ã®ä¹±æ•°ç”Ÿæˆ
  // pc_handsæ›¸ãæ›ãˆ
  if(pc_hands_num == 1) {
    $("#pc_hands").html("ã‚°ãƒ¼");
    // ã‚°ãƒ¼ã®å›æ•°ã®åŠ ç®—
    pc_hands_ary[0] = pc_hands_ary[0] + 1; 
    console.log(pc_hands_ary);
    
    // ç”»åƒå·®ã—æ›¿ãˆ
    let target = document.querySelector("#target");
    target.src = "./img/sazae_gu.jpg";
  }
  else if(pc_hands_num == 2) {
    $("#pc_hands").html("ãƒãƒ§ã‚­");
    // ãƒãƒ§ã‚­ã®å›æ•°ã®åŠ ç®—
    pc_hands_ary[1] = pc_hands_ary[1] + 1; 
    console.log(pc_hands_ary);
    
    // ç”»åƒå·®ã—æ›¿ãˆ
    let target = document.querySelector("#target");
    target.src = "./img/sazae_cho.jpg";
  }
  else {
    $("#pc_hands").html("ãƒ‘ãƒ¼");
    // ãƒ‘ãƒ¼ã®å›æ•°ã®åŠ ç®—
    pc_hands_ary[2] = pc_hands_ary[2] + 1; 
    console.log(pc_hands_ary);
    
    // ç”»åƒå·®ã—æ›¿ãˆ
    let target = document.querySelector("#target");
    target.src = "./img/sazae_par.jpg";
  }
  return pc_hands_num;
}

// å‹ã¡è² ã‘åˆ¤å®šé–¢æ•°ï¼ˆå¼•æ•°ã‚ã‚Šã€æˆ»ã‚Šå€¤ãªã—ï¼‰ã€ã‚°ãƒ©ãƒ•æ›´æ–°é–¢æ•°è¾¼ã¿
function check_hands(my_num, pc_num) {
  // å¼•ãåˆ†ã‘ã®å ´åˆï¼ˆæ•°ãŒåŒã˜ï¼‰
  if(my_num == pc_num) {
    $("#judgment").html("å¼•ãåˆ†ã‘");
    // å¼•ãåˆ†ã‘å›æ•°ã®åŠ ç®—
    result_ary[0] = result_ary[0] + 1;
    console.log(result_ary);
    draw_chart();
  }
  else if(my_num == 1 && pc_num == 2) { // ã‚°ãƒ¼ã®å‹ã¡
    $("#judgment").html("å‹ã¡");
    // å‹ã¡å›æ•°ã®åŠ ç®—
    result_ary[1] = result_ary[1] + 1;
    console.log(result_ary);
    draw_chart();
  }
  else if(my_num == 1 && pc_num == 3) { // ã‚°ãƒ¼ã®è² ã‘
    $("#judgment").html("è² ã‘");
    // è² ã‘å›æ•°ã®åŠ ç®—
    result_ary[2] = result_ary[2] + 1;
    console.log(result_ary);
    draw_chart();
    modal_open();

  }
  else if(my_num == 2 && pc_num == 3) { // ãƒãƒ§ã‚­ãƒ¼ã®å‹ã¡
    $("#judgment").html("å‹ã¡");
    // å‹ã¡å›æ•°ã®åŠ ç®—
    result_ary[1] = result_ary[1] + 1;
    console.log(result_ary);
    draw_chart();
  }
  else if(my_num == 2 && pc_num == 1) { // ãƒãƒ§ã‚­ã®è² ã‘
    $("#judgment").html("è² ã‘");
    // è² ã‘å›æ•°ã®åŠ ç®—
    result_ary[2] = result_ary[2] + 1;
    console.log(result_ary);
    draw_chart();
  }
  else if(my_num == 3 && pc_num == 1) { // ãƒ‘ãƒ¼ã®å‹ã¡
    $("#judgment").html("å‹ã¡");
    // å‹ã¡å›æ•°ã®åŠ ç®—
    result_ary[1] = result_ary[1] + 1;
    console.log(result_ary);
    draw_chart();
  }
  else if(my_num == 3 && pc_num == 2) { // ãƒ‘ãƒ¼ã®è² ã‘
    $("#judgment").html("è² ã‘");
    // è² ã‘å›æ•°ã®åŠ ç®—
    result_ary[2] = result_ary[2] + 1;
    console.log(result_ary);
    draw_chart();
  }
  
  return 0;
}

// å‹ç‡è¨ˆç®—é–¢æ•°
function rate_cal(){
  // å‹ç‡ã®è¨ˆç®—
  rate = (result_ary[1] / game_cnt);
  rate_round = (Math.round(rate*100));
  document.getElementById('rate').textContent = "å‹ç‡ï¼š" + rate_round + "%";
  console.log(rate);
}

// ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
function modal_open() {
  modal.style.display = 'block';
  $(".js-modal-video").modalVideo({
      channel: "youtube",//YouTubeã®å ´åˆ
      youtube: {
        rel: 0, //é–¢é€£å‹•ç”»ã®æŒ‡å®š
        autoplay: 0, //è‡ªå‹•å†ç”Ÿã®æŒ‡å®š
      },
    });
}
// ã‚°ãƒ¼ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
$("#gu_btn").on("click",function() {
  // è‡ªåˆ†ã®å‡ºã—æ‰‹ã€PCã®å‡ºã—æ‰‹ã®ç”Ÿæˆ
  let my_hands = 1; // ã‚°ãƒ¼ï¼š1
  let pc_hands = generate_random();
  
  // ã˜ã‚ƒã‚“ã‘ã‚“ã®å‹ã¡è² ã‘åˆ¤å®š
  check_hands(my_hands, pc_hands)

  // è©¦åˆæ•°ã®åŠ ç®—
  game_cnt = game_cnt + 1;
  console.log(game_cnt);

  // å‹ç‡è¨ˆç®—
  rate_cal()

});

// ãƒãƒ§ã‚­ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
$("#cho_btn").on("click",function() {
  // è‡ªåˆ†ã®å‡ºã—æ‰‹ã€PCã®å‡ºã—æ‰‹ã®ç”Ÿæˆ
  let my_hands = 2; // ãƒãƒ§ã‚­ï¼š2
  let pc_hands = generate_random();
  
  // ã˜ã‚ƒã‚“ã‘ã‚“ã®å‹ã¡è² ã‘åˆ¤å®š
  check_hands(my_hands, pc_hands)
  
  // è©¦åˆæ•°ã®åŠ ç®—
  game_cnt = game_cnt + 1;
  console.log(game_cnt);

  // å‹ç‡è¨ˆç®—
  rate_cal()
});

// ãƒ‘ãƒ¼ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
$("#par_btn").on("click",function() {
  // è‡ªåˆ†ã®å‡ºã—æ‰‹ã€PCã®å‡ºã—æ‰‹ã®ç”Ÿæˆ
  let my_hands = 3; // ãƒãƒ§ã‚­ï¼š3
  let pc_hands = generate_random();
  
  // ã˜ã‚ƒã‚“ã‘ã‚“ã®å‹ã¡è² ã‘åˆ¤å®š
  check_hands(my_hands, pc_hands)
  
  // è©¦åˆæ•°ã®åŠ ç®—
  game_cnt = game_cnt + 1;
  console.log(game_cnt);

  // å‹ç‡è¨ˆç®—
  rate_cal()
});
</script>
</body>
</html>
